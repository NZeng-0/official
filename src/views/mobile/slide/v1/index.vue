<script setup>
import {ref} from "vue";
import VueDragVerify from "@/components/dragVerify.vue";

const isVerified = ref(false);

const handleSuccess = () => {
  isVerified.value = true;
};
</script>

<template>
  <div class="container">
    <!-- 顶部 Logo -->
    <div class="logo">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1"
           width="32.2177734375" height="27.962890625" viewBox="0 0 32.2177734375 27.962890625">
        <g>
          <rect x="0" y="0" width="29.921875" height="24.5" rx="0" fill="#000000" fill-opacity="0"/>
          <g>
            <path
                d="M7.4725,16.0975Q7.7,16.0975,7.83125,16.3075Q7.9625,16.5175,7.9625,16.885Q7.9625,17.585,7.63,17.97Q6.8775,18.8975,5.99375,19.4925Q5.11,20.0875,3.99,20.0875Q2.45,20.0875,1.70625,18.6875Q0.9625,17.2875,0.9625,15.065Q0.9625,12.93,1.51375,10.2Q2.065,7.47,3.14125,5.51Q4.2175,3.55,5.705,3.55Q6.545,3.55,7.02625,4.32875Q7.5075,5.1075,7.5075,6.56Q7.5075,8.6425,6.3525,11.39Q5.1975,14.1375,3.22,16.8325Q3.3425,17.55,3.6225,17.8563Q3.9025,18.1625,4.3575,18.1625Q5.075,18.1625,5.6175,17.7512Q6.16,17.34,7,16.3425Q7.21,16.0975,7.4725,16.0975ZM5.32,5.2825Q4.9175,5.2825,4.41,6.735Q3.9025,8.1875,3.5175,10.34Q3.1325,12.4925,3.0975,14.47Q4.34,12.4225,5.075,10.3663Q5.81,8.31,5.81,6.6125Q5.81,5.2825,5.32,5.2825ZM15.47,14.6275Q15.6975,14.6275,15.82,14.855Q15.9425,15.0825,15.9425,15.4325Q15.9425,16.2725,15.435,16.43Q14.385,16.7975,13.125,16.85Q12.7925,18.32,11.8125,19.2038Q10.8325,20.0875,9.59,20.0875Q8.54,20.0875,7.79625,19.58Q7.0525,19.0725,6.6675,18.2325Q6.2825,17.3925,6.2825,16.4125Q6.2825,15.0825,6.79,14.0413Q7.2975,13,8.19,12.4137Q9.0825,11.8275,10.1675,11.8275Q11.4975,11.8275,12.3112,12.7463Q13.125,13.665,13.265,15.0125Q14.0875,14.96,15.225,14.6625Q15.365,14.6275,15.47,14.6275ZM9.73,18.2325Q10.29,18.2325,10.7013,17.7775Q11.1125,17.3225,11.2525,16.465Q10.71,16.0975,10.4212,15.5025Q10.1325,14.9075,10.1325,14.2425Q10.1325,13.9625,10.185,13.6825L10.0975,13.6825Q9.3975,13.6825,8.93375,14.3562Q8.47,15.03,8.47,16.255Q8.47,17.2175,8.84625,17.725Q9.2225,18.2325,9.73,18.2325ZM23.3975,16.1325Q23.625,16.1325,23.7562,16.3512Q23.8875,16.57,23.8875,16.9025Q23.8875,17.305,23.765,17.5325Q23.6425,17.76,23.38,17.935Q21.875,18.95,21.175,19.44L20.055,20.1925Q19.39,23.815,18.3137,25.8888Q17.2375,27.9625,15.575,27.9625Q14.6825,27.9625,14.1225,27.4113Q13.5625,26.86,13.5625,25.9675Q13.5625,24.725,14.5425,23.2987Q15.5225,21.8725,18.2175,19.79L18.3225,19.1075Q18.025,19.58,17.5438,19.8337Q17.0625,20.0875,16.59,20.0875Q15.505,20.0875,14.8575,19.3Q14.21,18.5125,14.21,17.235Q14.21,15.835,14.8575,14.5837Q15.505,13.3325,16.5812,12.5712Q17.6575,11.81,18.865,11.81Q19.25,11.81,19.3813,11.9587Q19.5125,12.1075,19.6,12.4925Q19.9325,12.4225,20.37,12.4225Q20.8075,12.4225,20.9912,12.5538Q21.175,12.685,21.175,13.07Q21.175,13.28,21.1575,13.4025Q21.0875,13.945,20.72,16.15Q20.65,16.57,20.5713,17.0688Q20.4925,17.5675,20.405,18.1275Q21.7525,17.0775,22.995,16.2725Q23.2225,16.1325,23.3975,16.1325ZM17.22,18.32Q17.6225,18.32,17.99,17.83Q18.3575,17.34,18.515,16.43L19.075,13.4375Q18.3575,13.455,17.745,13.9888Q17.1325,14.5225,16.765,15.3975Q16.3975,16.2725,16.3975,17.2525Q16.3975,17.795,16.6162,18.0575Q16.835,18.32,17.22,18.32ZM15.7675,26.265Q16.205,26.265,16.7563,25.215Q17.3075,24.165,17.815,21.8725Q16.4675,23.0275,15.8725,23.955Q15.2775,24.8825,15.2775,25.5825Q15.2775,25.88,15.3912,26.0725Q15.505,26.265,15.7675,26.265ZM31.745,14.6275Q31.9725,14.6275,32.095,14.855Q32.2175,15.0825,32.2175,15.4325Q32.2175,16.2725,31.71,16.43Q30.66,16.7975,29.4,16.85Q29.0675,18.32,28.0875,19.2038Q27.1075,20.0875,25.865,20.0875Q24.815,20.0875,24.0712,19.58Q23.3275,19.0725,22.9425,18.2325Q22.5575,17.3925,22.5575,16.4125Q22.5575,15.0825,23.065,14.0413Q23.5725,13,24.465,12.4137Q25.3575,11.8275,26.4425,11.8275Q27.7725,11.8275,28.5863,12.7463Q29.4,13.665,29.54,15.0125Q30.3625,14.96,31.5,14.6625Q31.64,14.6275,31.745,14.6275ZM26.005,18.2325Q26.565,18.2325,26.9762,17.7775Q27.3875,17.3225,27.5275,16.465Q26.985,16.0975,26.6962,15.5025Q26.4075,14.9075,26.4075,14.2425Q26.4075,13.9625,26.46,13.6825L26.3725,13.6825Q25.6725,13.6825,25.2087,14.3562Q24.745,15.03,24.745,16.255Q24.745,17.2175,25.1213,17.725Q25.4975,18.2325,26.005,18.2325Z"
                fill="#000000" fill-opacity="1"/>
          </g>
        </g>
      </svg>
    </div>

    <div class="title">安全验证</div>
    <p class="subtitle">请完成滑动验证以继续访问网站</p>

    <!-- 安全验证框 -->
    <div class="verify-box">
      <img src="@/assets/images/mobile/slide/v1.png" alt="img" style="width: 84px;height: 84px;"/>
      <!-- 滑动验证 -->
      <div style="display: flex;justify-content: center;">
        <VueDragVerify
            :width="300"
            :height="40"
            text="向右滑动完成验证"
            successText="验证成功"
            @success="handleSuccess"
        >
          <template #icon>
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1" width="12.25" height="10.5" viewBox="0 0 12.25 10.5"><g transform="matrix(1,0,0,-1,0,21)"><path d="M12.0039,15.121089999999999Q12.25,15.39453,12.25,15.75Q12.25,16.10547,12.0039,16.37891L7.62891,20.7539Q7.35547,21,7,21Q6.64453,21,6.37109,20.7539Q6.125,20.48047,6.125,20.125Q6.125,19.76953,6.37109,19.496090000000002L9.26953,16.625L0.875,16.625Q0.492188,16.625,0.246094,16.37891Q0,16.13281,0,15.75Q0,15.36719,0.246094,15.121089999999999Q0.492188,14.875,0.875,14.875L9.26953,14.875L6.37109,12.00391Q6.125,11.73047,6.125,11.375Q6.125,11.019531,6.37109,10.746094Q6.64453,10.5,7,10.5Q7.35547,10.5,7.62891,10.746094L12.0039,15.121089999999999Z" fill="#000000" fill-opacity="1" /></g></svg>
          </template>
        </VueDragVerify>
      </div>
      <!-- 验证成功后提示 -->
      <p v-if="isVerified" class="success-msg">验证成功！</p>

      <p class="footer-text">
        本验证用于防止恶意访问<br/>您的信息将被安全保护
      </p>
    </div>
  </div>
</template>

<style scoped>
/* 页面居中布局 */
.container {
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100vh;
  background-color: #FFFFFF;
}

/* Logo 样式 */
.logo {
  font-size: 24px;
  font-weight: bold;
  font-style: italic;
  background: white;
  width: 100%;
  height: 49px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* 验证框 */
.verify-box {
  margin-left: 16px;
  margin-right: 16px;
  width: 340px;
  text-align: center;
  border-radius: 10px;
  background: linear-gradient(0deg, rgba(0, 0, 0, 0.001), rgba(0, 0, 0, 0.001)), #FFFFFF;
  box-shadow: 0px 2px 4px -2px rgba(0, 0, 0, 0.1), 0px 4px 6px -1px rgba(0, 0, 0, 0.1);
}

/* 标题 */
.title {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 8px;
}

/* 副标题 */
.subtitle {
  font-size: 14px;
  color: #666;
  margin-bottom: 20px;
}

/* 成功提示 */
.success-msg {
  font-size: 14px;
  color: green;
  margin-top: 10px;
}

/* 底部小字 */
.footer-text {
  font-size: 12px;
  color: #aaa;
  margin-top: 20px;
}

/* 调整 VueDragVerify 样式 */
:deep(.drag-content) {
  background-color: #f0f0f0 !important;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  color: #888;
}
</style>
